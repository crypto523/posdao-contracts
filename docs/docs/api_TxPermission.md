---
id: TxPermission
title: TxPermission
---

<div class="contract-doc"><div class="contract"><h2 class="contract-header"><span class="contract-kind">contract</span> TxPermission</h2><p class="base-contracts"><span>is</span> <a href="abstracts_ContractsAddresses.html">ContractsAddresses</a><span>, </span><a href="eternal-storage_OwnedEternalStorage.html">OwnedEternalStorage</a><span>, </span><a href="interfaces_ITxPermission.html">ITxPermission</a></p><p class="description">Controls the use of zero gas price by validators in service transactions, protecting the network against &quot;transaction spamming&quot; by malicious validators. The protection logic is declared in the `allowedTxTypes` function.</p><div class="source">Source: <a href="https://github.com/poanetwork/posdao-contracts/blob/v0.1.0/contracts/TxPermission.sol" target="_blank">contracts/TxPermission.sol</a></div></div><div class="index"><h2>Index</h2><ul><li><a href="TxPermission.html#_addAllowedSender">_addAllowedSender</a></li><li><a href="TxPermission.html#addAllowedSender">addAllowedSender</a></li><li><a href="TxPermission.html#allowedSenders">allowedSenders</a></li><li><a href="TxPermission.html#allowedTxTypes">allowedTxTypes</a></li><li><a href="TxPermission.html#contractName">contractName</a></li><li><a href="TxPermission.html#contractNameHash">contractNameHash</a></li><li><a href="TxPermission.html#contractVersion">contractVersion</a></li><li><a href="TxPermission.html#initialize">initialize</a></li><li><a href="TxPermission.html#isSenderAllowed">isSenderAllowed</a></li><li><a href="TxPermission.html#limitBlockGas">limitBlockGas</a></li><li><a href="TxPermission.html#removeAllowedSender">removeAllowedSender</a></li></ul></div><div class="reference"><h2>Reference</h2><div class="functions"><h3>Functions</h3><ul><li><div class="item function"><span id="_addAllowedSender" class="anchor-marker"></span><h4 class="name">_addAllowedSender</h4><div class="body"><code class="signature">function <strong>_addAllowedSender</strong><span>(address _sender) </span><span>internal </span></code><hr/><div class="description"><p>An internal function used by the `addAllowedSender` and `initialize` functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_sender</code> - The address for which transactions of any type must be allowed.</div></dd></dl></div></div></li><li><div class="item function"><span id="addAllowedSender" class="anchor-marker"></span><h4 class="name">addAllowedSender</h4><div class="body"><code class="signature">function <strong>addAllowedSender</strong><span>(address _sender) </span><span>public </span></code><hr/><div class="description"><p>Adds the address for which transactions of any type must be allowed. Can only be called by the `owner`. See also the `allowedTxTypes` getter.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="eternal-storage_OwnedEternalStorage.html#onlyOwner">onlyOwner </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_sender</code> - The address for which transactions of any type must be allowed.</div></dd></dl></div></div></li><li><div class="item function"><span id="allowedSenders" class="anchor-marker"></span><h4 class="name">allowedSenders</h4><div class="body"><code class="signature">function <strong>allowedSenders</strong><span>() </span><span>public </span><span>view </span><span>returns  (address[]) </span></code><hr/><div class="description"><p>Returns the list of addresses allowed to initiate transactions of any type. For these addresses the `allowedTxTypes` getter always returns the `ALL` bit mask (see https://wiki.parity.io/Permissioning.html#how-it-works-1).</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>address[]</dd></dl></div></div></li><li><div class="item function"><span id="allowedTxTypes" class="anchor-marker"></span><h4 class="name">allowedTxTypes</h4><div class="body"><code class="signature">function <strong>allowedTxTypes</strong><span>(address _sender, address _to, uint256 , uint256 _gasPrice, bytes _data) </span><span>public </span><span>view </span><span>returns  (uint32, bool) </span></code><hr/><div class="description"><p>Defines the allowed transaction types which may be initiated by the specified sender with the specified gas price and data. Used by the Parity engine each time a transaction is about to be included into a block. See https://wiki.parity.io/Permissioning.html#how-it-works-1.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_sender</code> - Transaction sender address.</div><div><code>_to</code> - Transaction recipient address. If creating a contract, the `_to` address is zero.</div><div><code></code> - uint256</div><div><code>_gasPrice</code> - Gas price in wei for the transaction.</div><div><code>_data</code> - Transaction data.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>cache If `true` is returned, the same permissions will be applied from the same `_sender` without calling this contract again.</dd></dl></div></div></li><li><div class="item function"><span id="contractName" class="anchor-marker"></span><h4 class="name">contractName</h4><div class="body"><code class="signature">function <strong>contractName</strong><span>() </span><span>public </span><span>pure </span><span>returns  (string) </span></code><hr/><div class="description"><p>Returns the contract&#x27;s name recognizable by the Parity engine.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>string</dd></dl></div></div></li><li><div class="item function"><span id="contractNameHash" class="anchor-marker"></span><h4 class="name">contractNameHash</h4><div class="body"><code class="signature">function <strong>contractNameHash</strong><span>() </span><span>public </span><span>pure </span><span>returns  (bytes32) </span></code><hr/><div class="description"><p>Returns the contract name hash needed for the Parity engine.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>bytes32</dd></dl></div></div></li><li><div class="item function"><span id="contractVersion" class="anchor-marker"></span><h4 class="name">contractVersion</h4><div class="body"><code class="signature">function <strong>contractVersion</strong><span>() </span><span>public </span><span>pure </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the contract&#x27;s version number needed for the Parity engine.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="initialize" class="anchor-marker"></span><h4 class="name">initialize</h4><div class="body"><code class="signature">function <strong>initialize</strong><span>(address _allowedSender) </span><span>external </span></code><hr/><div class="description"><p>Initializes the contract at network startup. Must be called by the constructor of the `Initializer` contract on the genesis block.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_allowedSender</code> - The address for which transactions of any type must be allowed. See the `allowedTxTypes` getter.</div></dd></dl></div></div></li><li><div class="item function"><span id="isSenderAllowed" class="anchor-marker"></span><h4 class="name">isSenderAllowed</h4><div class="body"><code class="signature">function <strong>isSenderAllowed</strong><span>(address _sender) </span><span>public </span><span>view </span><span>returns  (bool) </span></code><hr/><div class="description"><p>Returns a boolean flag indicating whether the specified address is allowed to initiate transactions of any type. Used by the `allowedTxTypes` getter. See also the `addAllowedSender` and `removeAllowedSender` functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_sender</code> - The specified address to check.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>bool</dd></dl></div></div></li><li><div class="item function"><span id="limitBlockGas" class="anchor-marker"></span><h4 class="name">limitBlockGas</h4><div class="body"><code class="signature">function <strong>limitBlockGas</strong><span>() </span><span>public </span><span>view </span><span>returns  (bool) </span></code><hr/><div class="description"><p>Returns a boolean flag indicating whether the current block gas limit must be limited. See https://github.com/poanetwork/parity-ethereum/issues/119.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>bool</dd></dl></div></div></li><li><div class="item function"><span id="removeAllowedSender" class="anchor-marker"></span><h4 class="name">removeAllowedSender</h4><div class="body"><code class="signature">function <strong>removeAllowedSender</strong><span>(address _sender) </span><span>public </span></code><hr/><div class="description"><p>Removes the specified address from the array of addresses allowed to initiate transactions of any type. Can only be called by the `owner`. See also the `addAllowedSender` function and `allowedSenders` getter.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="eternal-storage_OwnedEternalStorage.html#onlyOwner">onlyOwner </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_sender</code> - The removed address.</div></dd></dl></div></div></li></ul></div></div></div>
